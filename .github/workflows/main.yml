name: Generate Lighthouse Report

on:
  push:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Get Report
        run: |
          npm set prefix ~/.npm
          printf "PATH=\"$HOME/.npm/bin:$PATH\"" >> ~/.bash_aliases
          printf "PATH=\"./node_modules/.bin:$PATH\"" >> ~/.bash_aliases
          echo "------"
          cat ~/.bash_aliases
          echo "------"
          npm install -g lighthouse
          echo "------"
          lighthouse https://raybo.org/githubchallenge/
